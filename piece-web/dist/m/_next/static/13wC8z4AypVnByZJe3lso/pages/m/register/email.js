(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{"7x0L":function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),o=n.n(r),a=n("o0o1"),c=n.n(a),i=n("HaE+"),l=n("rePB"),s=n("ODXe"),u=n("iuhU"),d=n("nOHt"),p=n.n(d),f=n("R/WZ"),b=n("LXXt"),h=n("Z3vd"),m=n("iae6"),g=n("VmPI"),v=n("Px9/"),O=n("nu8I"),y=n("VKyh"),k=n("iRFQ"),j=n("izKJ"),x=n("UA+C"),w=n("ofer"),P=n("MkkP"),F=n("XwMy"),C=o.a.createElement;function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=Object(f.a)((function(e){return{root:{width:"100%",minHeight:"calc(100vh - 40px)",display:"flex",flexDirection:"column"},content:{flex:1,padding:e.spacing(0,2)},title:{fontWeight:500,fontSize:"1.5rem",color:b.a[900],padding:e.spacing(5,0,4,.5)},tfTop:{margin:e.spacing(3.5,0)},errTop:{marginTop:e.spacing(3.25)},loginTop:{margin:e.spacing(3,0)},login:{height:e.spacing(6),borderRadius:e.spacing(3.5),fontWeight:500,fontSize:"0.875rem"},bottom:{height:48,color:b.a[600],fontSize:"0.875rem",borderTop:"1px solid #E0E0E0",display:"flex",alignItems:"center",justifyContent:"center",width:"100%",position:"fixed",bottom:0,opacity:1,transition:".5s all ease-in"},bottomBlur:{position:"relative",opacity:0,transition:".1s all ease-in"},protocol:{fontSize:"0.875rem",color:"#008AFF",cursor:"pointer"},agree:{display:"flex",margin:e.spacing(3.5,0,0,0)},checkBox:{padding:0,width:18,height:18,color:b.a[300],"&.Mui-checked":{color:"#0060FF"}},agreeContent:{marginLeft:e.spacing(1),color:b.a[600],fontSize:"0.75rem"},pwTop:{margin:e.spacing(3.25,4,0,4)},grey:{color:b.a[400]}}})),S=function(){var e,t=I({}),n=o.a.useState(!1),r=Object(s.a)(n,2),a=r[0],l=r[1],d=o.a.useState(!1),f=Object(s.a)(d,2),b=f[0],E=f[1],S=o.a.useState({requestId:0,sessionId:"",sig:"",token:"",scene:""}),B=Object(s.a)(S,2),D=B[0],N=B[1],z=o.a.useState({email:"",password:"",code:"",codeFuc:function(){return null},aliDialog:!1,check:!1,focus:!1,errPhoneText:"",errCodeText:"",errPWText:"",err:""}),R=Object(s.a)(z,2),M=R[0],q=R[1],A=function(){return q(T(T({},M),{},{focus:!0}))},W=function(){return q(T(T({},M),{},{focus:!1}))},X=function(){var e=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(q(T(T({},M),{},{err:""})),E(!1),M.email){e.next=5;break}return q(T(T({},M),{},{errPhoneText:"E-mail\u8f93\u5165\u6709\u8bef\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165"})),e.abrupt("return");case 5:if(M.code){e.next=8;break}return q(T(T({},M),{},{errCodeText:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801"})),e.abrupt("return");case 8:if(M.password){e.next=11;break}return q(T(T({},M),{},{err:"\u8bf7\u8f93\u5165\u5bc6\u7801"})),e.abrupt("return");case 11:if(Object(y.a)(M.password)){e.next=14;break}return e.abrupt("return");case 14:if(M.check){e.next=17;break}return q(T(T({},M),{},{err:"\u8bf7\u9605\u8bfb\u5e76\u52fe\u9009\u300a\u670d\u52a1\u534f\u8bae\u300b\u548c\u300a\u9690\u79c1\u653f\u7b56\u300b"})),e.abrupt("return");case 17:return E(!0),e.next=21,Object(P.d)(M,q,D);case 21:t=e.sent,E(!1),t&&p.a.push(F.c+"/register/succ");case 24:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(i.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l(!1),t.sig){e.next=4;break}return q(T(T({},M),{},{err:"\u8bf7\u8fdb\u884c\u4eba\u673a\u9a8c\u8bc1"})),e.abrupt("return");case 4:return E(!1),n={requestId:(new Date).getTime(),sessionId:t.sessionId,sig:t.sig,token:t.token,scene:t.scene},N(n),q(T(T({},M),{},{aliDialog:!1})),e.next=10,Object(P.b)(M,q);case 10:if(!e.sent){e.next=20;break}return e.next=14,Object(P.c)(n,M,q);case 14:if(!e.sent){e.next=20;break}return e.next=18,Object(P.a)(M,q);case 18:e.sent&&M.codeFuc();case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return C("div",{className:t.root},C("div",{className:t.content},C("div",{className:t.title},"\u6ce8\u518cKeyPool\u8d26\u53f7"),C("div",null,C(v.a,{label:"\u8bf7\u8f93\u5165\u90ae\u7bb1",fullWidth:!0,onChange:function(e,t){q(T(T({},M),{},t?{email:e,err:""}:{email:"",err:""}))},onFocus:A,onBlur:W,notEmpty:!0,errorText:M.errPhoneText,hot:!1})),C("div",{className:t.tfTop},C(k.a,{start:!1,onClick:function(e){M.email&&q(T(T({},M),{},{aliDialog:!0,codeFuc:e}))},onFocus:A,onBlur:W,helpText:M.errCodeText,onChange:function(e){return q(T(T({},M),{},{code:e,err:"",errCodeText:""}))},codeStyle:(null===(e=M.email)||void 0===e?void 0:e.length)?null:t.grey})),C("div",null,C(O.a,{onChange:function(e){return q(T(T({},M),{},{password:e,err:""}))},onFocus:A,onBlur:W,errorText:M.errPWText,hot:!1})),C("div",{className:t.agree},C(g.a,{checked:M.check,onChange:function(e,t){return q(T(T({},M),{},{check:t,err:""}))},value:"check",color:"primary",className:t.checkBox}),C("div",{className:t.agreeContent},"\u6211\u5df2\u9605\u8bfb\u5e76\u540c\u610f\u63a5\u53d7",C("span",{className:t.protocol,onClick:function(){return window.open("https://www.keystore.com/service.html")}},"\u300a\u670d\u52a1\u534f\u8bae\u300b"),"\u548c",C("span",{className:t.protocol,onClick:function(){return window.open("https://www.keystore.com/privacy.html")}},"\u300a\u9690\u79c1\u653f\u7b56\u300b"))),M.err&&M.err.length>0?C("div",{className:t.errTop},C(x.a,{des:M.err,callback:function(){return q(T(T({},M),{},{err:""}))}})):null,C("div",{className:t.loginTop},C(h.a,{disabled:b,className:Object(u.a)(t.login),fullWidth:!0,onClick:X,color:"primary",variant:"contained"},C(w.a,{style:{position:"absolute"}},"\u6ce8\u518c"),b&&C("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",position:"absolute"}},C(m.a,{size:28}))))),C("div",{className:Object(u.a)(t.bottom,M.focus&&t.bottomBlur)},C("div",null,"\u5df2\u6709\u8d26\u53f7\uff1f",C("span",{className:t.protocol,onClick:function(){return p.a.push(F.c+"/login")}},"\u7acb\u5373\u767b\u5f55"))),C(j.a,{open:M.aliDialog,render:a,onClose:function(){l(!0),q(T(T({},M),{},{aliDialog:!1}))},callback:L,label:"\u4eba\u673a\u9a8c\u8bc1\u6ed1\u5757",successText:"\u9a8c\u8bc1\u901a\u8fc7"}))},B=o.a.createElement,D=function(){return B("div",null,B(S,null))},N=n("jmmT"),z=o.a.createElement;t.default=function(){return z(N.a,{header:!0,back:!0},z(D,null))}},KJke:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/m/register/email",function(){return n("7x0L")}])},MkkP:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return d}));var r=n("rePB"),o=n("0NzB"),a=n("XwMy");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(e,t){return new Promise((function(n){(e.phone||e.email)&&Object(o.getJson)({path:a.b+"/no-auth/existUserAccount",data:{account:e.phone||e.email}}).then((function(r){200011===r.status?(t(i(i({},e),{},{aliDialog:!1})),n(!0)):(n(!1),t(i(i({},e),{},{aliDialog:!1,errPhoneText:"\u8d26\u53f7\u5df2\u5b58\u5728"})))}))}))},s=function(e,t,n){return new Promise((function(r){console.log(e),Object(o.postJson)({path:a.b+"/no-auth/register/mfaAuthenticate",data:{robot:e,businessType:"Register",mfaType:"Robot",requestId:e.requestId}}).then((function(e){0===e.status?r(!0):(r(!1),n(i(i({},t),{},{aliDialog:!1,errPhoneText:e.message})))}))}))},u=function(e,t){return new Promise((function(n){var r={mfaType:e.phone?"Sms":"Email",businessType:"Register",mobileNo:e.phone,country:e.country,email:e.email};Object(o.postJson)({path:a.b+"/no-auth/register/mfaSendCode",data:r}).then((function(r){0===r.status?n(!0):(n(!1),t(i(i({},e),{},{aliDialog:!1,errPhoneText:r.message})))}))}))},d=function(e,t,n){return new Promise((function(r){var c={email:{email:e.email,code:e.code},mobile:{mobileNo:e.phone,country:e.country,code:e.code},robot:{sessionId:n.sessionId,sig:n.sig,token:n.token,scene:n.scene},requestId:n.requestId,password:e.password,registerType:e.phone?"Mobile":"Email"};Object(o.postJson)({path:a.b+"/no-auth/registerUser",data:c}).then((function(n){0===n.status?r(!0):(t(i(i({},e),{},{err:n.message})),r(!1))}))}))}},"Px9/":function(e,t,n){"use strict";var r=n("wx14"),o=n("ODXe"),a=n("Ff2n"),c=n("q1tI"),i=n.n(c),l=n("2frL"),s=i.a.createElement,u=function(e,t){return t||""!==e.trim()?""===e.trim()?"\u8bf7\u8f93\u5165E-mail":t&&!/^[a-zA-Z0-9_.-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(e)?"E-mail\u8f93\u5165\u6709\u8bef\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165":e.length>100?"\u8f93\u5165\u7684\u4fe1\u606f\u8fc7\u957f\uff0c\u8bf7\u68c0\u67e5\u540e\u91cd\u65b0\u8f93\u5165":"":""};t.a=function(e){var t=e.notEmpty,n=void 0!==t&&t,c=e.value,d=e.disabled,p=void 0!==d&&d,f=e.onChange,b=e.onBlur,h=e.fullWidth,m=e.label,g=e.placeholder,v=e.errorText,O=void 0===v?"":v,y=e.hot,k=void 0===y||y,j=Object(a.a)(e,["notEmpty","value","disabled","onChange","onBlur","fullWidth","label","placeholder","errorText","hot"]),x=i.a.useState(""),w=Object(o.a)(x,2),P=w[0],F=w[1];i.a.useEffect((function(){F(O)}),[O]);return s(l.a,Object(r.a)({label:m,placeholder:g,fullWidth:h,value:c,disabled:p,onChange:function(e){F("");var t=e.target.value,r=u(t,n);k&&F(r),f&&f(t,0===r.length)},error:P.length>0,helperText:P,onBlur:function(e){var t=e.target.value,r=u(t,n);F(r),b&&b(e)},variant:"filled"},j))}},VmPI:function(e,t,n){"use strict";var r=n("wx14"),o=n("Ff2n"),a=n("q1tI"),c=(n("17x9"),n("iuhU")),i=n("ODXe"),l=n("yCxk"),s=n("EHdT"),u=n("H2TA"),d=n("PsDL"),p=a.forwardRef((function(e,t){var n=e.autoFocus,u=e.checked,p=e.checkedIcon,f=e.classes,b=e.className,h=e.defaultChecked,m=e.disabled,g=e.icon,v=e.id,O=e.inputProps,y=e.inputRef,k=e.name,j=e.onBlur,x=e.onChange,w=e.onFocus,P=e.readOnly,F=e.required,C=e.tabIndex,E=e.type,T=e.value,I=Object(o.a)(e,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),S=Object(l.a)({controlled:u,default:Boolean(h),name:"SwitchBase",state:"checked"}),B=Object(i.a)(S,2),D=B[0],N=B[1],z=Object(s.a)(),R=m;z&&"undefined"===typeof R&&(R=z.disabled);var M="checkbox"===E||"radio"===E;return(a.createElement(d.a,Object(r.a)({component:"span",className:Object(c.a)(f.root,b,D&&f.checked,R&&f.disabled),disabled:R,tabIndex:null,role:void 0,onFocus:function(e){w&&w(e),z&&z.onFocus&&z.onFocus(e)},onBlur:function(e){j&&j(e),z&&z.onBlur&&z.onBlur(e)},ref:t},I),a.createElement("input",Object(r.a)({autoFocus:n,checked:u,defaultChecked:h,className:f.input,disabled:R,id:M&&v,name:k,onChange:function(e){var t=e.target.checked;N(t),x&&x(e,t)},readOnly:P,ref:y,required:F,tabIndex:C,type:E,value:T},O)),D?p:g))})),f=Object(u.a)({root:{padding:9},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}},{name:"PrivateSwitchBase"})(p),b=n("5AJ6"),h=Object(b.a)(a.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),m=Object(b.a)(a.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),g=n("ye/S"),v=Object(b.a)(a.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),O=n("NqtD"),y=a.createElement(m,null),k=a.createElement(h,null),j=a.createElement(v,null),x=a.forwardRef((function(e,t){var n=e.checkedIcon,i=void 0===n?y:n,l=e.classes,s=e.color,u=void 0===s?"secondary":s,d=e.icon,p=void 0===d?k:d,b=e.indeterminate,h=void 0!==b&&b,m=e.indeterminateIcon,g=void 0===m?j:m,v=e.inputProps,x=e.size,w=void 0===x?"medium":x,P=Object(o.a)(e,["checkedIcon","classes","color","icon","indeterminate","indeterminateIcon","inputProps","size"]),F=h?g:p,C=h?g:i;return a.createElement(f,Object(r.a)({type:"checkbox",classes:{root:Object(c.a)(l.root,l["color".concat(Object(O.a)(u))],h&&l.indeterminate),checked:l.checked,disabled:l.disabled},color:u,inputProps:Object(r.a)({"data-indeterminate":h},v),icon:a.cloneElement(F,{fontSize:void 0===F.props.fontSize&&"small"===w?w:F.props.fontSize}),checkedIcon:a.cloneElement(C,{fontSize:void 0===C.props.fontSize&&"small"===w?w:C.props.fontSize}),ref:t},P))}));t.a=Object(u.a)((function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},indeterminate:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(g.c)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(g.c)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}}),{name:"MuiCheckbox"})(x)},iRFQ:function(e,t,n){"use strict";var r=n("rePB"),o=n("ODXe"),a=n("Ff2n"),c=n("q1tI"),i=n.n(c),l=n("iuhU"),s=n("R/WZ"),u=n("ZBNC"),d=n("ADg1"),p=n("+tNc"),f=n("7SZd"),b=n("Z3vd"),h=n("dl/7"),m=n("LXXt"),g=i.a.createElement;function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=Object(s.a)((function(e){return Object(u.a)({root:{width:"100%",display:"flex",flexDirection:"row"},textField:{"& .MuiOutlinedInput-adornedEnd":{paddingRight:0},"& .MuiButton-text":{padding:"15px 6px",width:"100%"},"& .MuiFilledInput-underline:before":{content:"none"},"& .MuiFilledInput-underline:after":{content:"none"},"& .MuiFilledInput-root":{backgroundColor:"#FFFFFF",border:"1px solid #E0E0E0",borderRadius:4}},adornment:{height:40,padding:"6px 9px",borderRadius:"28px",fontSize:"0.875rem",position:"relative",display:"flex",justifyContent:"center","&:hover":{backgroundColor:"#263BE0"}},err:{fontSize:"0.75rem",color:h.a[400]},btn:{borderTopLeftRadius:0,borderBottomLeftRadius:0},main:{color:"#0060FF","&:hover":{color:"#FFFFFF"},cursor:"pointer"},grey:{color:m.a[400],"&:hover":{color:m.a[400]}},adron:{"&:hover":{backgroundColor:"#FFFFFF"}}})}));t.a=function(e){var t=e.label,n=void 0===t?"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801":t,r=e.actionText,s=void 0===r?"\u83b7\u53d6\u9a8c\u8bc1\u7801":r,u=e.onClick,h=e.onChange,m=void 0===h?function(){return{}}:h,v=e.start,k=void 0!==v&&v,j=e.startFuc,x=e.helpText,w=void 0===x?"":x,P=Object(a.a)(e,["label","actionText","onClick","onChange","start","startFuc","helpText"]),F=y(),C=Object(c.useRef)(null),E=i.a.useState("60s"),T=Object(o.a)(E,2),I=T[0],S=T[1],B=i.a.useState({click:!1,next:!1,err:""}),D=Object(o.a)(B,2),N=D[0],z=D[1];i.a.useEffect((function(){k&&j&&j().then((function(e){e&&z(O(O({},N),{},{click:!0,err:""}))}))}),[k]),i.a.useEffect((function(){if(N.click){var e=60,t=setInterval((function(){e<=1?(S("1s"),clearInterval(t),z(O(O({},N),{},{click:!1,next:!0,err:""})),S("60s")):(e--,S(e+"s"))}),1e3);return C.current=t,function(){return clearInterval(C.current)}}}),[N.click]),i.a.useEffect((function(){z(O(O({},N),{},{err:w}))}),[w]);var R=function(){N.click||z(O(O({},N),{},{click:!0,err:""}))};return g(d.a,{className:F.root},g(p.a,{error:""!==N.err,label:n,fullWidth:!0,className:F.textField,InputProps:{endAdornment:g(f.a,{disableTypography:!0,position:"end",style:{width:100},className:Object(l.a)(F.adornment,N.click?F.adron:null,P.adornStyle),onClick:function(e){u&&!N.click&&u(R)}},g(b.a,{className:Object(l.a)(F.btn,F.main,N.click?F.grey:null,P.codeStyle)},N.click?I:N.next?"\u91cd\u65b0\u53d1\u9001":s))},onChange:function(e){/[\u4E00-\u9FA5\uF900-\uFA2D]/.test(e.target.value)||(z(O(O({},N),{},{err:""})),m(e.target.value))},onBlur:P.onBlur,onFocus:P.onFocus,helperText:N.err,variant:"filled"}))}}},[["KJke",0,2,1,3,4,5,6,7,12,13]]]);